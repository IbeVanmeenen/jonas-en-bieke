'use strict';

var jb = {};

/* ==========================================================================
   Jonas En Bieke - Code
   ========================================================================== */

jb.code = function () {

    var exports = jb.code;

    var btns = void 0;
    var givenCode = '';

    var codes = ['JD98PC39', 'LA09JJ39', 'BD08IN88'];

    // Check Code
    var checkCode = function checkCode() {
        if (codes.indexOf(givenCode) > -1) {
            console.log('correct code');
            givenCode = '';
        } else {
            console.log('wrong code');
            givenCode = '';
        }
    };

    // Check Code
    var checkCodeLenght = function checkCodeLenght() {
        console.log(givenCode);

        if (givenCode.length === 8) {
            checkCode();
        }
    };

    // Set Item
    var setItem = function setItem(btn) {
        btn.addEventListener('click', function () {
            givenCode += btn.dataset.code;
            checkCodeLenght();
        }, false);
    };

    // Init
    var init = function () {
        btns = document.getElementsByClassName('js-code-btn');

        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = btns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var btn = _step.value;

                setItem(btn);
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }
    }();
};

/* ==========================================================================
   Jonas & Bieke
   ========================================================================== */

jb.app = function () {

    var exports = jb.app;

    // Scroll
    var appScroll = function appScroll() {
        // Put functions in the '_update' function :-)
        var latestKnownScrollY = 0,
            ticking = false;

        var _onScroll = function _onScroll() {
            latestKnownScrollY = window.pageYOffset;
            _requestTick();
        };

        var _requestTick = function _requestTick() {
            if (!ticking) {
                window.requestAnimationFrame(_update);
            }
            ticking = true;
        };

        var _update = function _update() {
            ticking = false;
            var currentScrollY = latestKnownScrollY;

            // jb.component.updateScroll(currentScrollY);
        };

        // scroll mousewheel wheel
        window.onscroll = function (e) {
            _onScroll();
        };
    };

    // On load
    exports.onload = function () {};

    // Init
    var init = function () {
        jb.code();
    }();
};

var ready = function ready(fn) {
    // Sanity check
    if (typeof fn !== 'function') return;

    // If document is already loaded, run method
    if (document.readyState === 'complete') {
        return fn();
    }

    // Otherwise, wait until document is loaded
    document.addEventListener('DOMContentLoaded', fn, false);
};

ready(function () {
    jb.app();
});

window.onload = function () {
    jb.app.onload();
};